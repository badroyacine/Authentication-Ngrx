<div class="w-50 mx-auto mt-5">
  <h2 class="text-center">Create New Account</h2>
  <form [formGroup]="registerForm" class="register-form"> 

    <div class="alert alert-danger" role="alert" *ngIf="showErrorMessage">
      {{ errorMessage }}
    </div>

    <mat-form-field class="w-100">
      <input matInput placeholder="Username" formControlName="username">
      <mat-error *ngIf="username.errors?.required && username.touched">This field is required</mat-error>
    </mat-form-field>

    <mat-form-field class="w-100">
      <input matInput placeholder="Address email" formControlName="email">
      <mat-error *ngIf="email.errors?.required && email.touched">This field is required</mat-error>
      <mat-error *ngIf="email.errors?.email && email.touched">Please enter a valid email</mat-error>
    </mat-form-field>

    <mat-form-field class="w-100">
      <input matInput placeholder="Password" formControlName="password" type="password">
      <mat-error *ngIf="password.errors?.required && password.touched">This field is required</mat-error>
      <mat-error *ngIf="password.errors?.minlength">The password must be a least 8 characters</mat-error>
    </mat-form-field>
      
    <mat-form-field class="w-100">
      <input matInput placeholder="Password confirm" formControlName="passwordConfirm" type="password">
      <mat-error *ngIf="passwordConfirm.errors?.required && passwordConfirm.touched">This field is required</mat-error>
      <mat-error *ngIf="passwordConfirm.errors?.misMatch && !passwordConfirm.errors?.required">Password do not match</mat-error>
    </mat-form-field>

    <div class="d-flex justify-content-end align-items-center">
      <button mat-raised-button color="primary" (click)="onRegister()">
        <div class="spinner-border spinner-dialog mr-3" role="status" *ngIf="loading"></div>
        Create Account
      </button>
    </div>
      
  </form>
</div>
